Event ev_x_drive_actual_values, ev_y_drive_actual_values, ev_z_drive_actual_values, ev_antenna_parkpos_state_change;
Event ev_system_pressure_changed, ev_vehicle_inclination_x_changed, ev_vehicle_inclination_y_changed;
Event ev_antenna_alignment_changed, ev_z_drive_SENSOR_UB_Z_changed, ev_z_drive_SENSOR_IP_Z_changed;
Event ev_current_radar_changed, ev_current_others_changed, ev_current_drives_changed, ev_current_pneumatic_changed, ev_wind_speed_changed;
Event ev_send_software_version_to_extbg, ev_send_zustand_ruestsatz_to_extbg;
Event ev_send_motordaten_to_extbg, ev_send_zustand_komponenten_to_extbg, ev_send_zustand_plattform_to_extbg;
Event ev_send_betriebsart_to_extbg, ev_send_piktogramme_to_extbg, ev_send_messwerte_navigation_to_extbg;

// ------------------------------------------------------------------------
//      RECEPTION of data from IO MODULE, SI MODULE, EXTBG, USV etc.
// ------------------------------------------------------------------------

global_functions
{
  print_drive_state_
  {
    params{ _drive; _DriveName; };
    print ( "======== RX-BAG    - STATUS  ====================== ", _DriveName, "\n"
          , "-------- ANTRIEB_READY:         ", _drive.Status.ANTRIEB_READY, "\n"
          , "-------- ANTRIEB_ENABLE_OUT:    ", _drive.Status.ANTRIEB_ENABLE_OUT, "\n"
          , "-------- ANTRIEB_INPOS:         ", _drive.Status.ANTRIEB_INPOS, "\n"
          , "-------- LIMIT_SWITCH_CW:       ", _drive.Status.ANTRIEB_LIMIT_SWITCH_CW, "\n"
          , "-------- LIMIT_SWITCH_CCW:      ", _drive.Status.ANTRIEB_LIMIT_SWITCH_CCW, "\n"
          , "-------- BRAKE_RELEASED:        ", _drive.Status.ANTRIEB_BRAKE_RELEASED, "\n"
          , "-------- REMOTE_OUTPUT_STATUS:  ", _drive.Status.ANTRIEB_REMOTE_OUTPUT_STATUS, "\n"
          , "-------- ANTRIEB_FAULT:         ", _drive.Status.ANTRIEB_FAULT, "\n"
          , "-------- IstPos    CAN / MKS :  ", _drive.CanIstPos,     " / ", _drive.IstPos,     "\n"
          , "-------- IstGeschw CAN / MKS :  ", _drive.CanIstGeschw,  " / ", _drive.IstGeschw,  "\n"
          , "-------- IstStrom  CAN / MKS :  ", _drive.CanIstStrom,   " / ", _drive.IstStrom,   " ( not used )\n"
          , "===================================================\n"
          );
  };
  print_drive_emcy_
  {
    params{ _drive; _DriveName; };
    print ( "======== RX-BAG    - EMCY  ======================== ", _DriveName, "\n"
          , "-------- emergency_error_code:             ", _drive.EMCY.emergency_error_code, "\n"
          , "-------- error_register:                   ", _drive.EMCY.error_register, "\n"
          , "-------- resolver_encoder_error:           ", _drive.EMCY.resolver_encoder_error, "\n"
          , "-------- over_under_voltage_power_stage:   ", _drive.EMCY.over_under_voltage_power_stage, "\n"
          , "-------- over_temerature_motor:            ", _drive.EMCY.over_temerature_motor, "\n"
          , "-------- over_temerature_power_stage:      ", _drive.EMCY.over_temerature_power_stage, "\n"
          , "-------- over_current:                     ", _drive.EMCY.over_current, "\n"
          , "-------- driver_fault:                     ", _drive.EMCY.driver_fault, "\n"
          , "-------- external_hardware_enable_missing: ", _drive.EMCY.external_hardware_enable_missing, "\n"
          , "-------- absolute_position_limit_reached:  ", _drive.EMCY.absolute_position_limit_reached, "\n"
          , "-------- reserved_for_bus_error:           ", _drive.EMCY.reserved_for_bus_error, "\n"
          , "-------- reserved_for_earth_fault:         ", _drive.EMCY.reserved_for_earth_fault, "\n"
          , "-------- short_circuit_phase_u:            ", _drive.EMCY.short_circuit_phase_u, "\n"
          , "-------- short_circuit_phase_v:            ", _drive.EMCY.short_circuit_phase_v, "\n"
          , "-------- short_circuit_phase_w:            ", _drive.EMCY.short_circuit_phase_w, "\n"
          , "-------- reserved_for_io_module_error:     ", _drive.EMCY.reserved_for_io_module_error, "\n"
          , "-------- stop_because_external_hw_brake_release_was_cleared: ", _drive.EMCY.stop_because_external_hw_brake_release_was_cleared, "\n"
          , "-------- security_loop:                    ", _drive.EMCY.security_loop, "\n"
          , "===================================================\n"
          );
  };
//  on_luminance_request{
// //   if ( changed ( "luminance_request_target_value_in" ) )
//     luminance_target_value_changed(luminance_request_target_value_in);
//     // event(payload);
//  };


//     print ( "-------- RECEIVE -------- ev_io_module_has_heartbeat\n" );
//     print ( "-------- RECEIVE -------- s_heartbeat_can_id  ", s_heartbeat_can_id, "\n" );
//     print ( "-------- PROCESS -------- s_heartbeat_payload_in  ", s_heartbeat_payload_in, "\n" );

// ------------------------------------------------------------------------  
//                  SI MODULE
// ------------------------------------------------------------------------
  handler_si_modul_geraetestatus
  {
 //   print ( "-------- RX-BAG  -------- handler_si_modul_geraetestatus\n" );

  };

  handler_si_modul_digitale_eingaenge
  {
 //   print ( "-------- RX-BAG  -------- handler_si_modul_digitale_eingaenge\n" );

  };

  handler_si_modul_analoge_eingaenge_1
  {
 //   print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_1\n" );

  };

  handler_si_modul_analoge_eingaenge_2
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_2\n" );

    if ( changed ( "si_modul_analoger_eingang_strom_radar_nicht_verstaerkt_in" ) )
    {
      Heckverteiler_state.current_radar = si_modul_analoger_eingang_strom_radar_nicht_verstaerkt_in;
      ev_current_radar_changed;
    };
  };

  handler_si_modul_analoge_eingaenge_3
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_3\n" );

  };

  handler_si_modul_analoge_eingaenge_4
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_4\n" );

    if ( changed ( "si_modul_analoger_eingang_strom_other_nicht_verstaerkt_in" ) )
    {
      Heckverteiler_state.current_others = si_modul_analoger_eingang_strom_other_nicht_verstaerkt_in;
      ev_current_others_changed;
    };
  };

  handler_si_modul_analoge_eingaenge_5
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_5\n" );

  };

  handler_si_modul_analoge_eingaenge_6
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_6\n" );

    if ( changed ( "si_modul_analoger_eingang_strom_antriebe_nicht_verstaerkt_in" ) )
    {
      Heckverteiler_state.current_drives = si_modul_analoger_eingang_strom_antriebe_nicht_verstaerkt_in;
      ev_current_drives_changed;
    };
  };

  handler_si_modul_analoge_eingaenge_7
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_7\n" );

  };

  handler_si_modul_analoge_eingaenge_8
  {
//    print ( "-------- RX-BAG  -------- handler_si_modul_analoge_eingaenge_8\n" );

    if ( changed ( "si_modul_analoger_eingang_strom_pneumatik_nicht_verstaerkt_in" ) )
    {
      Heckverteiler_state.current_pneumatic = si_modul_analoger_eingang_strom_pneumatik_nicht_verstaerkt_in;
      ev_current_pneumatic_changed;
    };
  };

// ------------------------------------------------------------------------  
//                  IO MODULE WIND
// ------------------------------------------------------------------------
  handler_io_modul_sensordaten_windmesser
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_sensordaten_windmesser\n" );

    if ( changed ( "io_modul_sensordaten_windmesser_windstaerke_in" )
      || changed ( "io_modul_sensordaten_windmesser_gueltig_in" )
      )
    {
      Heckverteiler_state.wind_gueltig = io_modul_sensordaten_windmesser_gueltig_in;
      Heckverteiler_state.wind_speed   = io_modul_sensordaten_windmesser_windstaerke_in;
      ev_wind_speed_changed;
    };
  };

// ------------------------------------------------------------------------  
//                  IO_MODULE_PNEUMATICS
// ------------------------------------------------------------------------
  handler_io_modul_pneumatiktank
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_pneumatiktank\n" );

    if ( changed ( "io_modul_luftdruck_pneumatiktank_systemdruck_in" ) )
    {
      Pneumatics.system_pressure       = Get_Pressure ( io_modul_luftdruck_pneumatiktank_systemdruck_in ) / 2.0;
      print ( "-------- RX-BAG  -------- Pneumatics.system_pressure  ", Pneumatics.system_pressure, "\n" );
      ev_system_pressure_changed;
    };
    if ( changed ( "io_modul_luftdruck_pneumatiktank_druck_stuetze_links_in" ) )
    {
      Pneumatics.stilt_left_pressure   = Get_Pressure ( io_modul_luftdruck_pneumatiktank_druck_stuetze_links_in ) / 2.0;
      print ( "-------- RX-BAG  -------- Pneumatics.stilt_left_pressure  ", Pneumatics.stilt_left_pressure, "\n" );
      ev_stilt_left_state_change; //  arki: nothing better?
    };
    if ( changed ( "io_modul_luftdruck_pneumatiktank_druck_stuetze_rechts_in" ) )
    {
      Pneumatics.stilt_right_pressure  = Get_Pressure ( io_modul_luftdruck_pneumatiktank_druck_stuetze_rechts_in ) / 2.0;
      print ( "-------- RX-BAG  -------- Pneumatics.stilt_right_pressure ", Pneumatics.stilt_right_pressure, "\n" );
      ev_stilt_right_state_change; //  arki: nothing better?
    };
  };


// ------------------------------------------------------------------------  
//                  X DRIVE
// ------------------------------------------------------------------------
  handler_x_drive_emcy
  {
    print ( "-------- RX-BAG  -------- handler_x_drive_emcy\n" );

    x_drive_emcy_req = 0;
    if ( changed ( "s_frame_x_drive_emcy_emergency_error_code_in" ) )                               { x_drive_emcy_req = 1;  x_drive.EMCY.emergency_error_code                                = s_frame_x_drive_emcy_emergency_error_code_in; };
    if ( changed ( "s_frame_x_drive_emcy_error_register_in" ) )                                     { x_drive_emcy_req = 1;  x_drive.EMCY.error_register                                      = s_frame_x_drive_emcy_error_register_in; };
    if ( changed ( "s_frame_x_drive_emcy_resolver_encoder_error_in" ) )                             { x_drive_emcy_req = 1;  x_drive.EMCY.resolver_encoder_error                              = s_frame_x_drive_emcy_resolver_encoder_error_in; };
    if ( changed ( "s_frame_x_drive_emcy_over_under_voltage_power_stage_in" ) )                     { x_drive_emcy_req = 1;  x_drive.EMCY.over_under_voltage_power_stage                      = s_frame_x_drive_emcy_over_under_voltage_power_stage_in; };
    if ( changed ( "s_frame_x_drive_emcy_over_temerature_motor_in" ) )                              { x_drive_emcy_req = 1;  x_drive.EMCY.over_temerature_motor                               = s_frame_x_drive_emcy_over_temerature_motor_in; };
    if ( changed ( "s_frame_x_drive_emcy_over_temerature_power_stage_in" ) )                        { x_drive_emcy_req = 1;  x_drive.EMCY.over_temerature_power_stage                         = s_frame_x_drive_emcy_over_temerature_power_stage_in; };
    if ( changed ( "s_frame_x_drive_emcy_over_current_in" ) )                                       { x_drive_emcy_req = 1;  x_drive.EMCY.over_current                                        = s_frame_x_drive_emcy_over_current_in; };
    if ( changed ( "s_frame_x_drive_emcy_driver_fault_in" ) )                                       { x_drive_emcy_req = 1;  x_drive.EMCY.driver_fault                                        = s_frame_x_drive_emcy_driver_fault_in; };
    if ( changed ( "s_frame_x_drive_emcy_external_hardware_enable_missing_in" ) )                   { x_drive_emcy_req = 1;  x_drive.EMCY.external_hardware_enable_missing                    = s_frame_x_drive_emcy_external_hardware_enable_missing_in; };
    if ( changed ( "s_frame_x_drive_emcy_absolute_position_limit_reached_in" ) )                    { x_drive_emcy_req = 1;  x_drive.EMCY.absolute_position_limit_reached                     = s_frame_x_drive_emcy_absolute_position_limit_reached_in; };
    if ( changed ( "s_frame_x_drive_emcy_reserved_for_bus_error_in" ) )                             { x_drive_emcy_req = 1;  x_drive.EMCY.reserved_for_bus_error                              = s_frame_x_drive_emcy_reserved_for_bus_error_in; };
    if ( changed ( "s_frame_x_drive_emcy_reserved_for_earth_fault_in" ) )                           { x_drive_emcy_req = 1;  x_drive.EMCY.reserved_for_earth_fault                            = s_frame_x_drive_emcy_reserved_for_earth_fault_in; };
    if ( changed ( "s_frame_x_drive_emcy_short_circuit_phase_u_in" ) )                              { x_drive_emcy_req = 1;  x_drive.EMCY.short_circuit_phase_u                               = s_frame_x_drive_emcy_short_circuit_phase_u_in; };
    if ( changed ( "s_frame_x_drive_emcy_short_circuit_phase_v_in" ) )                              { x_drive_emcy_req = 1;  x_drive.EMCY.short_circuit_phase_v                               = s_frame_x_drive_emcy_short_circuit_phase_v_in; };
    if ( changed ( "s_frame_x_drive_emcy_short_circuit_phase_w_in" ) )                              { x_drive_emcy_req = 1;  x_drive.EMCY.short_circuit_phase_w                               = s_frame_x_drive_emcy_short_circuit_phase_w_in; };
    if ( changed ( "s_frame_x_drive_emcy_reserved_for_io_module_error_in" ) )                       { x_drive_emcy_req = 1;  x_drive.EMCY.reserved_for_io_module_error                        = s_frame_x_drive_emcy_reserved_for_io_module_error_in; };
    if ( changed ( "s_frame_x_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in" ) ) { x_drive_emcy_req = 1;  x_drive.EMCY.stop_because_external_hw_brake_release_was_cleared  = s_frame_x_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in; };
    if ( changed ( "s_frame_x_drive_emcy_security_loop_in" ) )                                      { x_drive_emcy_req = 1;  x_drive.EMCY.security_loop                                       = s_frame_x_drive_emcy_security_loop_in; };

    if ( x_drive_emcy_req == 1 )
    {
      print_drive_emcy_ ( x_drive, "X_drive" );
    };
  };

  handler_x_drive_response
  {
//    print ( "-------- RX-BAG  -------- handler_x_drive_response\t" );

    x_drive_rsp_req = 0;
    if ( changed ( "s_frame_drive_status_ready_xdrv_in" ) )                 { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_READY                = s_frame_drive_status_ready_xdrv_in; };
    if ( changed ( "s_frame_drive_status_enable_xdrv_in" ) )                { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_ENABLE_OUT           = s_frame_drive_status_enable_xdrv_in;  };
    if ( changed ( "s_frame_drive_status_inpos_xdrv_in" ) )                 { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_INPOS                = s_frame_drive_status_inpos_xdrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_cw_xdrv_in" ) )       { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_LIMIT_SWITCH_CW      = s_frame_drive_status_limit_switch_cw_xdrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_ccw_xdrv_in" ) )      { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_LIMIT_SWITCH_CCW     = s_frame_drive_status_limit_switch_ccw_xdrv_in;  };
    if ( changed ( "s_frame_drive_status_brake_released_xdrv_in" ) )        { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_BRAKE_RELEASED       = s_frame_drive_status_brake_released_xdrv_in;  };
    if ( changed ( "s_frame_drive_status_remote_output_status_xdrv_in" ) )  { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_REMOTE_OUTPUT_STATUS = s_frame_drive_status_remote_output_status_xdrv_in;  };
    if ( changed ( "s_frame_drive_status_fault_xdrv_in" ) )                 { x_drive_rsp_req = 1;  x_drive.Status.ANTRIEB_FAULT                = s_frame_drive_status_fault_xdrv_in; };

    if ( changed ( "s_frame_drive_actual_pos_xdrv_in" ) )
    {
      x_drive_rsp_req = 1;
      x_drive.CanIstPos     = s_frame_drive_actual_pos_xdrv_in;
      x_drive.IstPos        = X_IstPosition_Berechnen ( x_drive.CanIstPos );
      ev_x_drive_actual_values ( x_drive.IstPos );
    };

    if ( changed ( "s_frame_drive_actual_speed_xdrv_in" ) )
    {
      x_drive_rsp_req = 1;
      x_drive.CanIstGeschw  = 16 * s_frame_drive_actual_speed_xdrv_in;
      x_drive.IstGeschw     = X_IstPosition_Berechnen ( x_drive.CanIstGeschw );
    };

    if ( changed ( "s_frame_drive_actual_current_xdrv_in" ) )
    {
      x_drive_rsp_req = 1;
      x_drive.CanIstStrom   = 16 * s_frame_drive_actual_current_xdrv_in;
      x_drive.IstStrom      = x_drive.CanIstStrom / 10.0;
    };

    if ( x_drive_rsp_req == 1 )
    {
      print_drive_state_ ( x_drive, "X_drive" );
      ev_x_drive_can_state_response;
    } else
    {
      if ( ( 0 != x_drive.Control.ANTRIEB_ENABLE_IN ) || ( 0 != x_drive.Status.ANTRIEB_ENABLE_OUT ) )
        ev_x_drive_can_state_response;
    };
  };


// ------------------------------------------------------------------------  
//                  Y DRIVE
// ------------------------------------------------------------------------
  handler_y_drive_emcy
  {
    print ( "-------- RX-BAG  -------- handler_y_drive_emcy\n" );

    y_drive_emcy_req = 0;
    if ( changed ( "s_frame_y_drive_emcy_emergency_error_code_in" ) )                               { y_drive_emcy_req = 1;  y_drive.EMCY.emergency_error_code                                = s_frame_y_drive_emcy_emergency_error_code_in; };
    if ( changed ( "s_frame_y_drive_emcy_error_register_in" ) )                                     { y_drive_emcy_req = 1;  y_drive.EMCY.error_register                                      = s_frame_y_drive_emcy_error_register_in; };
    if ( changed ( "s_frame_y_drive_emcy_resolver_encoder_error_in" ) )                             { y_drive_emcy_req = 1;  y_drive.EMCY.resolver_encoder_error                              = s_frame_y_drive_emcy_resolver_encoder_error_in; };
    if ( changed ( "s_frame_y_drive_emcy_over_under_voltage_power_stage_in" ) )                     { y_drive_emcy_req = 1;  y_drive.EMCY.over_under_voltage_power_stage                      = s_frame_y_drive_emcy_over_under_voltage_power_stage_in; };
    if ( changed ( "s_frame_y_drive_emcy_over_temerature_motor_in" ) )                              { y_drive_emcy_req = 1;  y_drive.EMCY.over_temerature_motor                               = s_frame_y_drive_emcy_over_temerature_motor_in; };
    if ( changed ( "s_frame_y_drive_emcy_over_temerature_power_stage_in" ) )                        { y_drive_emcy_req = 1;  y_drive.EMCY.over_temerature_power_stage                         = s_frame_y_drive_emcy_over_temerature_power_stage_in; };
    if ( changed ( "s_frame_y_drive_emcy_over_current_in" ) )                                       { y_drive_emcy_req = 1;  y_drive.EMCY.over_current                                        = s_frame_y_drive_emcy_over_current_in; };
    if ( changed ( "s_frame_y_drive_emcy_driver_fault_in" ) )                                       { y_drive_emcy_req = 1;  y_drive.EMCY.driver_fault                                        = s_frame_y_drive_emcy_driver_fault_in; };
    if ( changed ( "s_frame_y_drive_emcy_external_hardware_enable_missing_in" ) )                   { y_drive_emcy_req = 1;  y_drive.EMCY.external_hardware_enable_missing                    = s_frame_y_drive_emcy_external_hardware_enable_missing_in; };
    if ( changed ( "s_frame_y_drive_emcy_absolute_position_limit_reached_in" ) )                    { y_drive_emcy_req = 1;  y_drive.EMCY.absolute_position_limit_reached                     = s_frame_y_drive_emcy_absolute_position_limit_reached_in; };
    if ( changed ( "s_frame_y_drive_emcy_reserved_for_bus_error_in" ) )                             { y_drive_emcy_req = 1;  y_drive.EMCY.reserved_for_bus_error                              = s_frame_y_drive_emcy_reserved_for_bus_error_in; };
    if ( changed ( "s_frame_y_drive_emcy_reserved_for_earth_fault_in" ) )                           { y_drive_emcy_req = 1;  y_drive.EMCY.reserved_for_earth_fault                            = s_frame_y_drive_emcy_reserved_for_earth_fault_in; };
    if ( changed ( "s_frame_y_drive_emcy_short_circuit_phase_u_in" ) )                              { y_drive_emcy_req = 1;  y_drive.EMCY.short_circuit_phase_u                               = s_frame_y_drive_emcy_short_circuit_phase_u_in; };
    if ( changed ( "s_frame_y_drive_emcy_short_circuit_phase_v_in" ) )                              { y_drive_emcy_req = 1;  y_drive.EMCY.short_circuit_phase_v                               = s_frame_y_drive_emcy_short_circuit_phase_v_in; };
    if ( changed ( "s_frame_y_drive_emcy_short_circuit_phase_w_in" ) )                              { y_drive_emcy_req = 1;  y_drive.EMCY.short_circuit_phase_w                               = s_frame_y_drive_emcy_short_circuit_phase_w_in; };
    if ( changed ( "s_frame_y_drive_emcy_reserved_for_io_module_error_in" ) )                       { y_drive_emcy_req = 1;  y_drive.EMCY.reserved_for_io_module_error                        = s_frame_y_drive_emcy_reserved_for_io_module_error_in; };
    if ( changed ( "s_frame_y_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in" ) ) { y_drive_emcy_req = 1;  y_drive.EMCY.stop_because_external_hw_brake_release_was_cleared  = s_frame_y_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in; };
    if ( changed ( "s_frame_y_drive_emcy_security_loop_in" ) )                                      { y_drive_emcy_req = 1;  y_drive.EMCY.security_loop                                       = s_frame_y_drive_emcy_security_loop_in; };

    if ( y_drive_emcy_req == 1 )
    {
      print_drive_emcy_ ( y_drive, "Y_drive" );
    };
  };

  handler_y_drive_response
  {
//    print ( "-------- RX-BAG  -------- handler_y_drive_response\n" );

    y_drive_rsp_req = 0;
    if ( changed ( "s_frame_drive_status_ready_ydrv_in" ) )                 { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_READY                = s_frame_drive_status_ready_ydrv_in; };
    if ( changed ( "s_frame_drive_status_enable_ydrv_in" ) )                { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_ENABLE_OUT           = s_frame_drive_status_enable_ydrv_in; };
    if ( changed ( "s_frame_drive_status_inpos_ydrv_in" ) )                 { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_INPOS                = s_frame_drive_status_inpos_ydrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_cw_ydrv_in" ) )       { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_LIMIT_SWITCH_CW      = s_frame_drive_status_limit_switch_cw_ydrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_ccw_ydrv_in" ) )      { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_LIMIT_SWITCH_CCW     = s_frame_drive_status_limit_switch_ccw_ydrv_in; };
    if ( changed ( "s_frame_drive_status_brake_released_ydrv_in" ) )        { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_BRAKE_RELEASED       = s_frame_drive_status_brake_released_ydrv_in;  };
    if ( changed ( "s_frame_drive_status_remote_output_status_ydrv_in" ) )  { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_REMOTE_OUTPUT_STATUS = s_frame_drive_status_remote_output_status_ydrv_in;  };
    if ( changed ( "s_frame_drive_status_fault_ydrv_in" ) )                 { y_drive_rsp_req = 1;  y_drive.Status.ANTRIEB_FAULT                = s_frame_drive_status_fault_ydrv_in; };

    if ( changed ( "s_frame_drive_actual_pos_ydrv_in" ) )
    {
      y_drive_rsp_req = 1;
      y_drive.CanIstPos     = s_frame_drive_actual_pos_ydrv_in;
      y_drive.IstPos        = Y_IstPosition_Berechnen ( y_drive.CanIstPos );
      ev_y_drive_actual_values ( y_drive.IstPos );
    };

    if ( changed ( "s_frame_drive_actual_speed_ydrv_in" ) )
    {
      y_drive_rsp_req = 1;
      y_drive.CanIstGeschw  = 16 * s_frame_drive_actual_speed_ydrv_in;
      y_drive.IstGeschw     = Y_IstPosition_Berechnen ( y_drive.CanIstGeschw );
    };

    if ( changed ( "s_frame_drive_actual_current_ydrv_in" ) )
    {
      y_drive_rsp_req = 1;
      y_drive.CanIstStrom   = 16 * s_frame_drive_actual_current_ydrv_in;
      y_drive.IstStrom      = y_drive.CanIstStrom / 10.0;
    };

    if ( y_drive_rsp_req == 1 )
    {
      print_drive_state_ ( y_drive, "Y_drive" );
      ev_y_drive_can_state_response;
    } else
    {
      if ( ( 0 != y_drive.Control.ANTRIEB_ENABLE_IN ) || ( 0 != y_drive.Status.ANTRIEB_ENABLE_OUT ) )
        ev_y_drive_can_state_response;
    };
  };


// ------------------------------------------------------------------------  
//                  Z DRIVE
// ------------------------------------------------------------------------
  handler_z_drive_emcy
  {
    print ( "-------- RX-BAG  -------- handler_z_drive_emcy\n" );

    z_drive_emcy_req = 0;
    if ( changed ( "s_frame_z_drive_emcy_emergency_error_code_in" ) )                               { z_drive_emcy_req = 1;  z_drive.EMCY.emergency_error_code                                = s_frame_z_drive_emcy_emergency_error_code_in; };
    if ( changed ( "s_frame_z_drive_emcy_error_register_in" ) )                                     { z_drive_emcy_req = 1;  z_drive.EMCY.error_register                                      = s_frame_z_drive_emcy_error_register_in; };
    if ( changed ( "s_frame_z_drive_emcy_resolver_encoder_error_in" ) )                             { z_drive_emcy_req = 1;  z_drive.EMCY.resolver_encoder_error                              = s_frame_z_drive_emcy_resolver_encoder_error_in; };
    if ( changed ( "s_frame_z_drive_emcy_over_under_voltage_power_stage_in" ) )                     { z_drive_emcy_req = 1;  z_drive.EMCY.over_under_voltage_power_stage                      = s_frame_z_drive_emcy_over_under_voltage_power_stage_in; };
    if ( changed ( "s_frame_z_drive_emcy_over_temerature_motor_in" ) )                              { z_drive_emcy_req = 1;  z_drive.EMCY.over_temerature_motor                               = s_frame_z_drive_emcy_over_temerature_motor_in; };
    if ( changed ( "s_frame_z_drive_emcy_over_temerature_power_stage_in" ) )                        { z_drive_emcy_req = 1;  z_drive.EMCY.over_temerature_power_stage                         = s_frame_z_drive_emcy_over_temerature_power_stage_in; };
    if ( changed ( "s_frame_z_drive_emcy_over_current_in" ) )                                       { z_drive_emcy_req = 1;  z_drive.EMCY.over_current                                        = s_frame_z_drive_emcy_over_current_in; };
    if ( changed ( "s_frame_z_drive_emcy_driver_fault_in" ) )                                       { z_drive_emcy_req = 1;  z_drive.EMCY.driver_fault                                        = s_frame_z_drive_emcy_driver_fault_in; };
    if ( changed ( "s_frame_z_drive_emcy_external_hardware_enable_missing_in" ) )                   { z_drive_emcy_req = 1;  z_drive.EMCY.external_hardware_enable_missing                    = s_frame_z_drive_emcy_external_hardware_enable_missing_in; };
    if ( changed ( "s_frame_z_drive_emcy_absolute_position_limit_reached_in" ) )                    { z_drive_emcy_req = 1;  z_drive.EMCY.absolute_position_limit_reached                     = s_frame_z_drive_emcy_absolute_position_limit_reached_in; };
    if ( changed ( "s_frame_z_drive_emcy_reserved_for_bus_error_in" ) )                             { z_drive_emcy_req = 1;  z_drive.EMCY.reserved_for_bus_error                              = s_frame_z_drive_emcy_reserved_for_bus_error_in; };
    if ( changed ( "s_frame_z_drive_emcy_reserved_for_earth_fault_in" ) )                           { z_drive_emcy_req = 1;  z_drive.EMCY.reserved_for_earth_fault                            = s_frame_z_drive_emcy_reserved_for_earth_fault_in; };
    if ( changed ( "s_frame_z_drive_emcy_short_circuit_phase_u_in" ) )                              { z_drive_emcy_req = 1;  z_drive.EMCY.short_circuit_phase_u                               = s_frame_z_drive_emcy_short_circuit_phase_u_in; };
    if ( changed ( "s_frame_z_drive_emcy_short_circuit_phase_v_in" ) )                              { z_drive_emcy_req = 1;  z_drive.EMCY.short_circuit_phase_v                               = s_frame_z_drive_emcy_short_circuit_phase_v_in; };
    if ( changed ( "s_frame_z_drive_emcy_short_circuit_phase_w_in" ) )                              { z_drive_emcy_req = 1;  z_drive.EMCY.short_circuit_phase_w                               = s_frame_z_drive_emcy_short_circuit_phase_w_in; };
    if ( changed ( "s_frame_z_drive_emcy_reserved_for_io_module_error_in" ) )                       { z_drive_emcy_req = 1;  z_drive.EMCY.reserved_for_io_module_error                        = s_frame_z_drive_emcy_reserved_for_io_module_error_in; };
    if ( changed ( "s_frame_z_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in" ) ) { z_drive_emcy_req = 1;  z_drive.EMCY.stop_because_external_hw_brake_release_was_cleared  = s_frame_z_drive_emcy_stop_because_external_hw_brake_release_was_cleared_in; };
    if ( changed ( "s_frame_z_drive_emcy_security_loop_in" ) )                                      { z_drive_emcy_req = 1;  z_drive.EMCY.security_loop                                       = s_frame_z_drive_emcy_security_loop_in; };

    if ( z_drive_emcy_req == 1 )
    {
      print_drive_emcy_ ( z_drive, "Z_drive" );
    };
  };

  handler_z_drive_response
  {
//    print ( "-------- RX-BAG  -------- handler_z_drive_response\t" );

    z_drive_rsp_req = 0;
    if ( changed ( "s_frame_drive_status_ready_zdrv_in" ) )                 { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_READY                = s_frame_drive_status_ready_zdrv_in; };
    if ( changed ( "s_frame_drive_status_enable_zdrv_in" ) )                { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_ENABLE_OUT           = s_frame_drive_status_enable_zdrv_in;  };
    if ( changed ( "s_frame_drive_status_inpos_zdrv_in" ) )                 { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_INPOS                = s_frame_drive_status_inpos_zdrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_cw_zdrv_in" ) )       { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_LIMIT_SWITCH_CW      = s_frame_drive_status_limit_switch_cw_zdrv_in; };
    if ( changed ( "s_frame_drive_status_limit_switch_ccw_zdrv_in" ) )      { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_LIMIT_SWITCH_CCW     = s_frame_drive_status_limit_switch_ccw_zdrv_in;  };
    if ( changed ( "s_frame_drive_status_brake_released_zdrv_in" ) )        { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_BRAKE_RELEASED       = s_frame_drive_status_brake_released_zdrv_in;  };
    if ( changed ( "s_frame_drive_status_remote_output_status_zdrv_in" ) )  { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_REMOTE_OUTPUT_STATUS = s_frame_drive_status_remote_output_status_zdrv_in;  };
    if ( changed ( "s_frame_drive_status_fault_zdrv_in" ) )                 { z_drive_rsp_req = 1;  z_drive.Status.ANTRIEB_FAULT                = s_frame_drive_status_fault_zdrv_in; };

    if ( changed ( "s_frame_drive_actual_pos_zdrv_in" ) )
    {
      z_drive_rsp_req = 1;
      z_drive.CanIstPos     = s_frame_drive_actual_pos_zdrv_in;
      z_drive.IstPos        = Z_IstPosition_Berechnen ( z_drive.CanIstPos );
      ev_z_drive_actual_values ( z_drive.IstPos );
    };
    if ( changed ( "s_frame_drive_actual_speed_zdrv_in" ) )
    {
      z_drive_rsp_req = 1;
      z_drive.CanIstGeschw  = 16 * s_frame_drive_actual_speed_zdrv_in;
      z_drive.IstGeschw     = Z_IstPosition_Berechnen ( z_drive.CanIstGeschw );
    };
    if ( changed ( "s_frame_drive_actual_current_zdrv_in" ) )
    {
      z_drive_rsp_req = 1;
      z_drive.CanIstStrom   = 16 * s_frame_drive_actual_current_zdrv_in;
      z_drive.IstStrom      = z_drive.CanIstStrom / 10.0;
    };

    if ( z_drive_rsp_req == 1 )
    {
      print_drive_state_ ( z_drive, "Z_drive" );
      ev_z_drive_can_state_response;
    } else
    {
      if ( ( 0 != z_drive.Control.ANTRIEB_ENABLE_IN ) || ( 0 != z_drive.Status.ANTRIEB_ENABLE_OUT ) )
        ev_z_drive_can_state_response;
    };
  };





// ------------------------------------------------------------------------  
//                  EXTBG
// ------------------------------------------------------------------------

  handler_extbg_force_bag_pdo_transmit
  {
//    print ( "-------- RX-BAG  -------- handler_extbg_force_bag_pdo_transmit\n" );

    if ( changed ( "extbg_force_bag_pdo_transmit_counter_in" ) )
    {
        // Softwareversion
        ev_send_software_version_to_extbg;

        // Fahrzeugwinkel X,Y
        ev_send_zustand_ruestsatz_to_extbg;

        // Motordaten
        ev_send_motordaten_to_extbg;

        // Zustand Komponenten
        ev_send_zustand_komponenten_to_extbg;

        // Betriebsstunden
        bag_betriebsstunden_out                 = 42;
//        send ( frame_betriebsstunden, channel_can_1_out );

        // Zustand Plattform
        ev_send_zustand_plattform_to_extbg;

        // Messwerte Navigation
        ev_send_messwerte_navigation_to_extbg;

        // Piktogramme
        ev_send_piktogramme_to_extbg;

        // Fortschrittsmeldungen

        // Betriebsmodus
        ev_send_betriebsart_to_extbg;
    }
  };


  handler_extbg_taster_manuell_betaetigung 
  {
//    print ( "-------- RX-BAG  -------- handler_extbg_taster_manuell_betaetigung\n" );

    if ( s_extBG_is_online )
    {
//                  MANUELLER BETRIEB 
// ------------------------------------------------------------------------
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_haube_riegel_oeffnen_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_haube_riegel_oeffnen_in : "
              , extbg_taster_betaetigung_manueller_betrieb_haube_riegel_oeffnen_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_haube_riegel_oeffnen_in == 1 )
        {
          VENTIL_HRO  = 1;
        } else
        {
          VENTIL_HRO  = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_haube_riegel_oeffnen_out    = VENTIL_HRO;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_in" ) ) 
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_in : "
              , extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_in == 1 )
        {
          VENTIL_HVZO = 1;
        } else 
        {
          VENTIL_HVZO = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_haube_ventil_zylinder_oeffnen_out = VENTIL_HVZO;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_in : "
              , extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_in == 1 )
        {
          VENTIL_HVZS = 1;
        } else
        {
          VENTIL_HVZS = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_haube_ventil_zylinder_schliessen_out = VENTIL_HVZS;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_nothalt_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_nothalt_in : "
              , extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_nothalt_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_haube_oeffnen_nothalt_in == 1 )
        {
          VENTIL_HVZON  = 1;
        } else
        {
          VENTIL_HVZON  = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_haube_ventil_zylinder_oeffnen_nothalt_out = VENTIL_HVZON;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_nothalt_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_nothalt_in : "
              , extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_nothalt_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_haube_schliessen_nothalt_in == 1 )
        {
          VENTIL_HVZSN  = 1;
        } else
        {
          VENTIL_HVZSN  = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_haube_ventil_zylinder_schliessen_nothalt_out = VENTIL_HVZSN;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_oeffnen_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_oeffnen_in : "
              , extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_oeffnen_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_oeffnen_in == 1 )
        {
          VENTIL_VZ1O = 1;
        } else
        {
          VENTIL_VZ1O = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs13_verzurrung_zylinder_1_oeffnen_out = VENTIL_VZ1O;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_schliessen_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_schliessen_in : "
              , extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_schliessen_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_zurrung_antenne_schliessen_in == 1 )
        {
          VENTIL_VZ1V = 1;
        } else
        {
          VENTIL_VZ1V = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs13_verzurrung_zylinder_1_schliessen_out = VENTIL_VZ1V;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_venturiventil_1_ein_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_venturiventil_1_ein_in : "
              , extbg_taster_betaetigung_manueller_betrieb_venturiventil_1_ein_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_venturiventil_1_ein_in == 1 )
        {
          VENTIL_VV1  = 1;
        } else
        {
          VENTIL_VV1  = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs13_venturiventil_1_out = VENTIL_VV1;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_stuetzen_klemmung_ein_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_stuetzen_klemmung_ein_in : "
              , extbg_taster_betaetigung_manueller_betrieb_stuetzen_klemmung_ein_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_stuetzen_klemmung_ein_in == 1 )
        {
          VENTIL_SVK  = 1;
        } else
        {
          VENTIL_SVK  = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_stuetze_ventil_klemmung_out = VENTIL_SVK;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_stuetzen_ausfahren_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_stuetzen_ausfahren_in : "
              , extbg_taster_betaetigung_manueller_betrieb_stuetzen_ausfahren_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_stuetzen_ausfahren_in == 1 )
        {
          VENTIL_SVZA = 1;
        } else
        {
          VENTIL_SVZA = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_stuetze_ventil_zylinder_ausfahren_out = VENTIL_SVZA;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_stuetzen_einfahren_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_stuetzen_einfahren_in : "
              , extbg_taster_betaetigung_manueller_betrieb_stuetzen_einfahren_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_stuetzen_einfahren_in == 1 )
        {
          VENTIL_SVZE = 1;
        } else
        {
          VENTIL_SVZE = 0;
        };
        io_modul_ansteuerung_ausgaenge_cs14_stuetze_ventil_zylinder_einfahren_out = VENTIL_SVZE;
        send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_x_achse_auf_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_x_achse_auf_in : "
              , extbg_taster_betaetigung_manueller_betrieb_x_achse_auf_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_x_achse_auf_in == 1 )
        {
          ev_x_drive_move_left_down;
        } else
        {
          ev_x_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_x_achse_ab_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_x_achse_ab_in : "
              , extbg_taster_betaetigung_manueller_betrieb_x_achse_ab_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_x_achse_ab_in == 1 )
        {
          ev_x_drive_move_right_down;
        } else
        {
          ev_x_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_y_achse_auf_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_y_achse_auf_in : "
              , extbg_taster_betaetigung_manueller_betrieb_y_achse_auf_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_y_achse_auf_in == 1 )
        {
          ev_y_drive_move_front_down;
        } else
        {
          ev_y_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_y_achse_ab_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_y_achse_ab_in : "
              , extbg_taster_betaetigung_manueller_betrieb_y_achse_ab_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_y_achse_ab_in == 1 )
        {
          ev_y_drive_move_rear_down;
        } else
        {
          ev_y_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_z_achse_auf_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_z_achse_auf_in : "
              , extbg_taster_betaetigung_manueller_betrieb_z_achse_auf_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_z_achse_auf_in == 1 )
        {
          ev_z_drive_move_up;
        } else
        {
          ev_z_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_z_achse_ab_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_z_achse_ab_in : "
              , extbg_taster_betaetigung_manueller_betrieb_z_achse_ab_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_z_achse_ab_in  == 1 )
        {
          ev_z_drive_move_down;
        } else
        {
          ev_z_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_z_achse_sollposition_anfahren_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_z_achse_sollposition_anfahren_in : "
              , extbg_taster_betaetigung_manueller_betrieb_z_achse_sollposition_anfahren_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_z_achse_sollposition_anfahren_in == 1 )
        {
          ev_mast_anfahren ( extbg_z_drive_sollposition_in );
        } else
        {
          ev_z_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_radar_power_on_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_radar_power_on_in : "
              , extbg_taster_betaetigung_manueller_betrieb_radar_power_on_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_radar_power_on_in == 1 )
        {
          io_modul_ansteuerung_ausgaenge_cs11_radar_power_on_out = 1;
          send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          io_modul_ansteuerung_ausgaenge_cs11_radar_power_on_out = 0;
          send ( io_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_versorgung_radar_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_versorgung_radar_in : "
              , extbg_taster_betaetigung_manueller_betrieb_versorgung_radar_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_versorgung_radar_in == 1 )
        {
          si_modul_ansteuerung_ausgaenge_versorgung_radaranlage_out = 1;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          si_modul_ansteuerung_ausgaenge_versorgung_radaranlage_out = 0;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_versorgung_xyz_antriebe_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_versorgung_xyz_antriebe_in : "
              , extbg_taster_betaetigung_manueller_betrieb_versorgung_xyz_antriebe_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_versorgung_xyz_antriebe_in == 1 )
        {
          si_modul_ansteuerung_ausgaenge_versorgung_xyz_antriebe_out = 1;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          si_modul_ansteuerung_ausgaenge_versorgung_xyz_antriebe_out = 0;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_versorgung_pneumatik_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_versorgung_pneumatik_in : "
              , extbg_taster_betaetigung_manueller_betrieb_versorgung_pneumatik_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_versorgung_pneumatik_in == 1 )
        {
          si_modul_ansteuerung_ausgaenge_versorgung_pneumatik_out = 1;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          si_modul_ansteuerung_ausgaenge_versorgung_pneumatik_out = 0;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_in : "
              , extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_in, "\n" );
        if ( extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_in == 1 )
        {
          si_modul_ansteuerung_ausgaenge_versorgung_windsensor_out = 1;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          si_modul_ansteuerung_ausgaenge_versorgung_windsensor_out = 0;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_heizung_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_heizung_in : "
              , extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_heizung_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_versorgung_windsensor_heizung_in == 1 )
        {
          si_modul_ansteuerung_ausgaenge_versorgung_windsensor_heizung_out = 1;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        } else
        {
          si_modul_ansteuerung_ausgaenge_versorgung_windsensor_heizung_out = 0;
          send ( si_modul_ansteuerung_ausgaenge, channel_can_1_out );
        };
      };

//              MANUELLER BETRIEB 2
// ------------------------------------------------------------------------
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_2_x_antrieb_auf_zurrposition_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_2_x_antrieb_auf_zurrposition_in : "
              , extbg_taster_betaetigung_manueller_betrieb_2_x_antrieb_auf_zurrposition_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_2_x_antrieb_auf_zurrposition_in == 1 )
        {
          ev_x_drive_to_indexposition;
        } else
        {
          ev_x_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_zurrposition_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_zurrposition_in : "
              , extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_zurrposition_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_zurrposition_in == 1 )
        {
          ev_y_drive_to_indexposition;
        } else
        {
          ev_y_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_90_grad_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_90_grad_in : "
              , extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_90_grad_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_2_y_antrieb_auf_90_grad_in == 1 )
        {
          ev_y_drive_to_arbeitsposition;
        } else
        {
          ev_y_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_x_achse_sollposition_anfahren_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_x_achse_sollposition_anfahren_in : "
              , extbg_taster_betaetigung_manueller_betrieb_x_achse_sollposition_anfahren_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_x_achse_sollposition_anfahren_in == 1 )
        {
          ev_x_drive_to_target_position ( extbg_x_drive_sollposition_in );
        } else
        {
          ev_x_drive_stop;
        };
      };
      if ( changed ( "extbg_taster_betaetigung_manueller_betrieb_y_achse_sollposition_anfahren_in" ) )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_manueller_betrieb_y_achse_sollposition_anfahren_in : "
              , extbg_taster_betaetigung_manueller_betrieb_y_achse_sollposition_anfahren_in, "\n"
              );
        if ( extbg_taster_betaetigung_manueller_betrieb_y_achse_sollposition_anfahren_in == 1 )
        {
          ev_Y_drive_to_target_position ( extbg_y_drive_sollposition_in );
        } else
        {
          ev_y_drive_stop;
        };
      };
    };
  };


  handler_extbg_taster_betaetigung 
  {
    print ( "-------- RX-BAG  -------- handler_extbg_taster_betaetigung\n" );

// ------------------------------------------------------------------------
//                  EINZELBETRIEB 
// ------------------------------------------------------------------------
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_stuetzen_ausfahren_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_stuetzen_ausfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_stuetzen_ausfahren_in --------\n" );
      ev_stilts_to_extend;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_stuetzen_einfahren_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_stuetzen_einfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_stuetzen_einfahren_in --------\n" );
      ev_stilts_to_retract;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_haube_auf_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_haube_auf_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_haube_auf_in --------\n" );
      ev_flap_to_open;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_haube_zu_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_haube_zu_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_haube_zu_in --------\n" );
      ev_flap_to_close;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_entriegeln_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_entriegeln_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_entriegeln_in --------\n" );
      ev_antenna_lashing_unlock;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_verriegeln_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_verriegeln_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_zurrung_antenne_verriegeln_in --------\n" );
      ev_antenna_lashing_lock;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_antenne_aufrichten_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_antenne_aufrichten_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_antenne_aufrichten_in --------\n" );
      ev_antenna_to_raise;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_antenne_abklappen_in" )
      &&         (  extbg_taster_betaetigung_einzelbetrieb_antenne_abklappen_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_antenne_abklappen_in --------\n" );
      ev_antenna_to_hinge_down;
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_mast_ausfahren_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_mast_ausfahren_in : "
            , extbg_taster_betaetigung_einzelbetrieb_mast_ausfahren_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_mast_ausfahren_in == 1 )
      {
        ev_z_drive_move_up;
      } else
      {
        ev_z_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_mast_einfahren_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_mast_einfahren_in : "
            , extbg_taster_betaetigung_einzelbetrieb_mast_einfahren_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_mast_einfahren_in == 1 )
      {
        ev_z_drive_move_down;
      } else
      {
        ev_z_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_mast_auf_zurrposition_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_mast_auf_zurrposition_in : "
            , extbg_taster_betaetigung_einzelbetrieb_mast_auf_zurrposition_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_mast_auf_zurrposition_in == 1 )
      {
        ev_mast_einfahren;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_plattform_vorne_nach_unten_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_plattform_vorne_nach_unten_in : "
            , extbg_taster_betaetigung_einzelbetrieb_plattform_vorne_nach_unten_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_plattform_vorne_nach_unten_in == 1 )
      {
        ev_y_drive_move_front_down;
      } else
      {
        ev_y_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_plattform_hinten_nach_unten_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_plattform_hinten_nach_unten_in : "
            , extbg_taster_betaetigung_einzelbetrieb_plattform_hinten_nach_unten_in, "\n"
            );
      if (  extbg_taster_betaetigung_einzelbetrieb_plattform_hinten_nach_unten_in == 1 )
      {
        ev_y_drive_move_rear_down;
      } else
      {
        ev_y_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_plattform_links_nach_unten_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_plattform_links_nach_unten_in : "
            , extbg_taster_betaetigung_einzelbetrieb_plattform_links_nach_unten_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_plattform_links_nach_unten_in == 1 )
      {
        ev_x_drive_move_left_down;
      } else
      {
        ev_x_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_plattform_rechts_nach_unten_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_plattform_rechts_nach_unten_in : "
            , extbg_taster_betaetigung_einzelbetrieb_plattform_rechts_nach_unten_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_plattform_rechts_nach_unten_in == 1 )
      {
        ev_x_drive_move_right_down;
      } else
      {
        ev_x_drive_stop;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_plattform_automatisch_ausrichten_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_plattform_automatisch_ausrichten_in : "
            , extbg_taster_betaetigung_einzelbetrieb_plattform_automatisch_ausrichten_in, "\n"
            );
      if (  extbg_taster_betaetigung_einzelbetrieb_plattform_automatisch_ausrichten_in == 1 )
      {
        ev_antenna_to_level_out;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_staubaustragseinrichtung_aktivieren_in" ) )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_staubaustragseinrichtung_aktivieren_in : "
            , extbg_taster_betaetigung_einzelbetrieb_staubaustragseinrichtung_aktivieren_in, "\n"
            );
      if ( extbg_taster_betaetigung_einzelbetrieb_staubaustragseinrichtung_aktivieren_in == 1 )
      {
        ev_dust_discharge_to_do;
      };
    } else
    if ( changed ( "extbg_taster_betaetigung_einzelbetrieb_abbruch_in" ) )
    {
      if ( extbg_taster_betaetigung_einzelbetrieb_abbruch_in > 0 )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_abbruch_in -------- set\n" );
        TASTE_E_ABBRUCH = 1;
        ev_taste_e_abbruch_is_active;
      } else
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_einzelbetrieb_abbruch_in -------- reset\n" );
        TASTE_E_ABBRUCH = 0;
        ev_taste_e_abbruch_is_not_active;
      };
    } else
// ------------------------------------------------------------------------
//            AUTOMATIKBETRIEB
// ------------------------------------------------------------------------
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_plattform_ausfahren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_plattform_ausfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_plattform_ausfahren_in --------\n" );
      ev_extend_with_stilts;
      ev_system_extend;
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_plattform_einfahren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_plattform_einfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_plattform_einfahren_in --------\n" );
      ev_extend_with_stilts;
      ev_system_retract;
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_stuetzen_ausfahren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_stuetzen_ausfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_stuetzen_ausfahren_in --------\n" );
      ev_stilts_to_extend;
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_stuetzen_einfahren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_stuetzen_einfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_stuetzen_einfahren_in --------\n" );
      ev_stilts_to_retract;
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_mast_sollposition_anfahren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_mast_sollposition_anfahren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_mast_sollposition_anfahren_in --------\n" );
      ev_mast_anfahren ( extbg_z_drive_sollposition_in );
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_horizontieren_in" )
      &&         (  extbg_taster_betaetigung_automatikbetrieb_horizontieren_in == 1 )
      )
    {
      print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_horizontieren_in --------\n" );
      ev_antenna_to_level_out;
    } else
    if ( changed ( "extbg_taster_betaetigung_automatikbetrieb_abbruch_in" ) )
    {
      if ( extbg_taster_betaetigung_automatikbetrieb_abbruch_in > 0 )
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_abbruch_in -------- set\n" );
        //ev_extbg_automatic_mode_program_abortion;
        TASTE_A_ABBRUCH = 1;
        ev_taste_a_abbruch_is_active;
      } else 
      {
        print ( "-------- RX-BAG  -------- extbg_taster_betaetigung_automatikbetrieb_abbruch_in -------- reset\n" );
        //ev_extbg_automatic_mode_program_abortion;
        TASTE_A_ABBRUCH = 0;
        ev_taste_a_abbruch_is_not_active;
      };
    };
  };

// ------------------------------------------------------------------------
  handler_extbg_x_drive_sollwerte
  {
    print ( "-------- RX-BAG  -------- handler_extbg_x_drive_sollwerte\n" );

    if ( changed ( "extbg_x_drive_sollgeschwindigkeit_in" ) )
    {
//      print ( "handler_extbg_x_drive_sollwerte --- extbg_x_drive_sollgeschwindigkeit_in:", extbg_x_drive_sollgeschwindigkeit_in, "\n" );
      x_drive.SollGeschwAbsolut = extbg_x_drive_sollgeschwindigkeit_in;
      if ( x_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_SPEED )
      {
        x_drive.SollGeschw = x_drive.VorzeichenSpeed * x_drive.SollGeschwAbsolut;
        x_drive.CanSollGeschw = X_Set_Speed ( truncate ( x_drive.SollGeschw ) );
        print ( "handler_extbg_x_drive_sollwerte --- x_drive.SollGeschw:", x_drive.SollGeschw, "\n" );

        assemble_frame_and_send_to_x_drive ( x_drive );
      };
    };

    if ( changed ( "extbg_x_drive_sollposition_in" ) )
    {
//      print ( "handler_extbg_x_drive_sollwerte --- extbg_x_drive_sollposition_in:", extbg_x_drive_sollposition_in, "\n" );
      x_drive.SollPos = extbg_x_drive_sollposition_in;
      if ( x_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_POSITION )
      {
        x_drive.CanSollPos        = X_SollPosition_Berechnen ( x_drive.SollPos );
        print ( "handler_extbg_x_drive_sollwerte --- x_drive.SollPos:", x_drive.SollPos, "\n" );

        assemble_frame_and_send_to_x_drive ( x_drive );
      };
    };
  };

// ------------------------------------------------------------------------
  handler_extbg_y_drive_sollwerte
  {
    print ( "-------- RX-BAG  -------- handler_extbg_y_drive_sollwerte\n" );

    if ( changed ( "extbg_y_drive_sollgeschwindigkeit_in" ) )
    {
//      print ( "handler_extbg_y_drive_sollwerte --- extbg_y_drive_sollgeschwindigkeit_in:", extbg_y_drive_sollgeschwindigkeit_in, "\n" );
      y_drive.SollGeschwAbsolut = extbg_y_drive_sollgeschwindigkeit_in;
      if ( y_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_SPEED )
      {
        y_drive.SollGeschw = y_drive.VorzeichenSpeed * y_drive.SollGeschwAbsolut;
        y_drive.CanSollGeschw = Y_Set_Speed ( truncate ( y_drive.SollGeschw ) );
        print ( "handler_extbg_y_drive_sollwerte --- y_drive.SollGeschw:", y_drive.SollGeschw, "\n" );

        assemble_frame_and_send_to_y_drive ( y_drive );
      };
    };

    if ( changed ( "extbg_y_drive_sollposition_in" ) )
    {
//      print ( "handler_extbg_y_drive_sollwerte --- extbg_y_drive_sollposition_in:", extbg_y_drive_sollposition_in, "\n" );
      y_drive.SollPos = extbg_y_drive_sollposition_in;
      if ( y_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_POSITION )
      {
        y_drive.CanSollPos        = Y_SollPosition_Berechnen ( y_drive.SollPos );
        print ( "handler_extbg_y_drive_sollwerte --- y_drive.SollPos:", y_drive.SollPos, "\n" );

        assemble_frame_and_send_to_y_drive ( y_drive );
      };
    };
  };

// ------------------------------------------------------------------------
  handler_extbg_z_drive_sollwerte
  {
    print ( "-------- RX-BAG  -------- handler_extbg_z_drive_sollwerte\n" );

    if ( changed ( "extbg_z_drive_sollgeschwindigkeit_in" ) )
    {
//      print ( "handler_extbg_z_drive_sollwerte --- extbg_z_drive_sollgeschwindigkeit_in:", extbg_z_drive_sollgeschwindigkeit_in, "\n" );
      z_drive.SollGeschwAbsolut = extbg_z_drive_sollgeschwindigkeit_in;
      if ( z_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_SPEED )
      {
        z_drive.SollGeschw = z_drive.VorzeichenSpeed * z_drive.SollGeschwAbsolut;
        z_drive.CanSollGeschw = Z_Set_Speed ( truncate ( z_drive.SollGeschw ) );
        print ( "handler_extbg_z_drive_sollwerte --- z_drive.SollGeschw:", z_drive.SollGeschw, "\n" );

        assemble_frame_and_send_to_z_drive ( z_drive );
      };
    };

    if ( changed ( "extbg_z_drive_sollposition_in" ) )
    {
//      print ( "handler_extbg_z_drive_sollwerte --- extbg_z_drive_sollposition_in:", extbg_z_drive_sollposition_in, "\n" );
      z_drive.SollPos = extbg_z_drive_sollposition_in;
      if ( z_drive.Control.ANTRIEB_MODE == DRIVE_OPERATIONAL_MODE_POSITION )
      {
        z_drive.CanSollPos        = Z_SollPosition_Berechnen ( z_drive.SollPos );
        print ( "handler_extbg_z_drive_sollwerte --- z_drive.SollPos:", z_drive.SollPos, "\n" );

        assemble_frame_and_send_to_z_drive ( z_drive );
      };
    };
  };

// ------------------------------------------------------------------------
//                  IO MODUL TALIN DATEN 1
// ------------------------------------------------------------------------
  handler_io_modul_talin_daten_1
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_talin_daten_1\n" );

    if ( changed ( "io_modul_talin_daten_1_x_plattform_talin_in" )
      || changed ( "io_modul_talin_daten_1_y_plattform_talin_in" )
      )
    {
      Talin_state.axis_x          = Get_Talin_Axis ( io_modul_talin_daten_1_x_plattform_talin_in );
      Talin_state.axis_y          = Get_Talin_Axis ( io_modul_talin_daten_1_y_plattform_talin_in );
//      print ( "-------- RX-BAG  -------- talin_daten_1 x / Talin_state.axis_x: ", io_modul_talin_daten_1_x_plattform_talin_in, " / ", Talin_state.axis_x, "\n" );
//      print ( "-------- RX-BAG  -------- talin_daten_1 y / Talin_state.axis_y: ", io_modul_talin_daten_1_y_plattform_talin_in, " / ", Talin_state.axis_y, "\n" );
      ev_antenna_alignment_changed;
    };
  };

// ------------------------------------------------------------------------
//                  IO MODUL TALIN DATEN 2
// ------------------------------------------------------------------------
  handler_io_modul_talin_daten_2
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_talin_daten_2\n" );

    if ( changed ( "io_modul_talin_daten_2_heading_talin_in" ) )
    {
      Talin_state.heading                 = io_modul_talin_daten_2_heading_talin_in;
//      print ( "-------- RX-BAG  -------- io_modul_talin_daten_2_heading_talin_in: ", io_modul_talin_daten_2_heading_talin_in, "\n" );
//      ev_talin_heading_changed;
    };
    if ( changed ( "io_modul_talin_daten_2_attitude_valid_in" ) )
    {
      Talin_state.attitude_valid          = io_modul_talin_daten_2_attitude_valid_in;
//      print ( "-------- RX-BAG  -------- io_modul_talin_daten_2_attitude_valid_in: ", io_modul_talin_daten_2_attitude_valid_in, "\n" );
//      ev_talin_attitude_valid_changed;
    };
    if ( changed ( "io_modul_talin_daten_2_zupt_in_progress_in" ) )
    {
      Talin_state.talin_zupt_in_progress  = io_modul_talin_daten_2_zupt_in_progress_in;
//      print ( "-------- RX-BAG  -------- io_modul_talin_daten_2_zupt_in_progress_in: ", io_modul_talin_daten_2_zupt_in_progress_in, "\n" );
//      ev_talin_zupt_in_progress_changed;
    };
  };

// ------------------------------------------------------------------------
//                  IO MODUL FAHRZEUGWINKEL
// ------------------------------------------------------------------------
  handler_io_modul_fahrzeugwinkel
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_fahrzeugwinkel\n" );

    Talin_state.isValid   = io_modul_fahrzeugwinkel_talin_data_valid_in;

    if ( changed ( "io_modul_fahrzeugwinkel_x_achse_vom_neigungsgeber_in" ) )
    {
      Vehicle.angle_x = Get_Vehicle_Angle ( io_modul_fahrzeugwinkel_x_achse_vom_neigungsgeber_in );
      ev_vehicle_inclination_x_changed ( Vehicle.angle_x );
    };

    if ( changed ( "io_modul_fahrzeugwinkel_y_achse_vom_neigungsgeber_in" ) )
    {
      Vehicle.angle_y = Get_Vehicle_Angle ( io_modul_fahrzeugwinkel_y_achse_vom_neigungsgeber_in );
      ev_vehicle_inclination_y_changed ( Vehicle.angle_y );
    };
  };

// ------------------------------------------------------------------------
//                  IO MODUL HECKVERTEILER 1
// ------------------------------------------------------------------------
  handler_io_modul_zustand_heckverteiler_1
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_zustand_heckverteiler_1\n" );
//                  ANTRIEBE ENDSCHALTER 
// ------------------------------------------------------------------------

//      print ( "ANTRIEBE ENDSCHALTER \n" );

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs3_in_index_position_x_aktiv_in" ) )
    {
      SENSOR_IP_X = io_modul_zustand_heckverteiler_1_cs3_in_index_position_x_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_IP_X: ", SENSOR_IP_X, "\n" );
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs3_im_arbeitsbereich_y_aktiv_in" ) )
    {
      SENSOR_AB_Y = io_modul_zustand_heckverteiler_1_cs3_im_arbeitsbereich_y_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_AB_Y: ", SENSOR_AB_Y, "\n" );
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs3_in_index_position_y_aktiv_in" ) )
    {
      SENSOR_IP_Y = io_modul_zustand_heckverteiler_1_cs3_in_index_position_y_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_IP_Y: ", SENSOR_IP_Y, "\n" );
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs4_endanschlag_oben_z_aktiv_in" ) )
    {
      SENSOR_EO_Z = io_modul_zustand_heckverteiler_1_cs4_endanschlag_oben_z_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_EO_Z: ", SENSOR_EO_Z, "\n" );
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs4_endanschlag_unten_z_aktiv_in" ) )
    {
      SENSOR_EU_Z = io_modul_zustand_heckverteiler_1_cs4_endanschlag_unten_z_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_EU_Z: ", SENSOR_EU_Z, "\n" );
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs4_in_index_position_z_aktiv_in" ) )
    {
      SENSOR_IP_Z = io_modul_zustand_heckverteiler_1_cs4_in_index_position_z_aktiv_in;
      print ( "-------- RX-BAG  -------- SENSOR_IP_Z: ", SENSOR_IP_Z, "\n" );
      ev_z_drive_SENSOR_IP_Z_changed;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs4_untere_betriebsposition_z_aktiv_in" ) )
    {
      SENSOR_UB_Z = io_modul_zustand_heckverteiler_1_cs4_untere_betriebsposition_z_aktiv_in;
      print ( "-------- RX-BAG  --------  SENSOR_UB_Z: ", SENSOR_UB_Z, "\n" );
      ev_z_drive_SENSOR_UB_Z_changed;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs1_in_parkposition_in" ) )
    {
      SENSOR_IN_PARKPOS = io_modul_zustand_heckverteiler_1_cs1_in_parkposition_in;
      print ( "-------- RX-BAG  --------  SENSOR_IN_PARKPOS: ", SENSOR_IN_PARKPOS, "\n" );
      ev_antenna_parkpos_state_change;
    };

//                HAUBE 
// ------------------------------------------------------------------------
    if ( changed ( "io_modul_zustand_heckverteiler_1_cs6_haubenzylinder_offen_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_1_cs6_haubenzylinder_geschlossen_aktiv_in" )
      )
    {
      SENSOR_HZO = io_modul_zustand_heckverteiler_1_cs6_haubenzylinder_offen_aktiv_in;
      SENSOR_HZG = io_modul_zustand_heckverteiler_1_cs6_haubenzylinder_geschlossen_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_HZO / SENSOR_HZG : ", SENSOR_HZO, " / ", SENSOR_HZG, "\n" );

      ev_flap_state_change;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_1_cs7_haube_riegel_1_verriegelt_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_1_cs7_haube_riegel_1_offen_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_1_cs7_haube_riegel_2_verriegelt_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_1_cs7_haube_riegel_2_offen_aktiv_in" )
      )
    {
      SENSOR_HR1V = io_modul_zustand_heckverteiler_1_cs7_haube_riegel_1_verriegelt_aktiv_in;
      SENSOR_HR1O = io_modul_zustand_heckverteiler_1_cs7_haube_riegel_1_offen_aktiv_in;
      SENSOR_HR2V = io_modul_zustand_heckverteiler_1_cs7_haube_riegel_2_verriegelt_aktiv_in;
      SENSOR_HR2O = io_modul_zustand_heckverteiler_1_cs7_haube_riegel_2_offen_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_HR1V / SENSOR_HR1O : ", SENSOR_HR1V, " / ", SENSOR_HR1O, "\n" );
      print ( "-------- RX-BAG  -------- SENSOR_HR2V / SENSOR_HR2O : ", SENSOR_HR2V, " / ", SENSOR_HR2O, "\n" );

      ev_flap_lock_state_change;
    };
  };

// ------------------------------------------------------------------------
//                  IO MODUL HECKVERTEILER 2
// ------------------------------------------------------------------------
  handler_io_modul_zustand_heckverteiler_2
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_zustand_heckverteiler_2\n" );
//                  STUETZEN 
// ------------------------------------------------------------------------
    if ( changed ( "io_modul_zustand_heckverteiler_2_cs8_stuetze_endlage_klemmung_offen_links_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_2_cs8_stuetze_endlage_klemmung_geschlossen_links_aktiv_in" )
      )
    {
      SENSOR_SEKOL = io_modul_zustand_heckverteiler_2_cs8_stuetze_endlage_klemmung_offen_links_aktiv_in;
      SENSOR_SEKGL = io_modul_zustand_heckverteiler_2_cs8_stuetze_endlage_klemmung_geschlossen_links_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_SEKOL / SENSOR_SEKGL : ", SENSOR_SEKOL, " / ", SENSOR_SEKGL, "\n" );

      ev_stilt_left_lock_state_change;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_2_cs9_stuetze_endlage_klemmung_offen_rechts_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_2_cs9_stuetze_endlage_klemmung_geschlossen_rechts_aktiv_in" )
      )
    {
      SENSOR_SEKOR = io_modul_zustand_heckverteiler_2_cs9_stuetze_endlage_klemmung_offen_rechts_aktiv_in;
      SENSOR_SEKGR = io_modul_zustand_heckverteiler_2_cs9_stuetze_endlage_klemmung_geschlossen_rechts_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_SEKOR / SENSOR_SEKGR : ", SENSOR_SEKOR, " / ", SENSOR_SEKGR, "\n" );

      ev_stilt_right_lock_state_change;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_2_cs8_stuetze_magnet_unten_links_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_2_cs8_stuetze_magnet_oben_links_aktiv_in" )
      )
    {
      SENSOR_SMUL = io_modul_zustand_heckverteiler_2_cs8_stuetze_magnet_unten_links_aktiv_in;
      SENSOR_SMOL = io_modul_zustand_heckverteiler_2_cs8_stuetze_magnet_oben_links_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_SMUL / SENSOR_SMOL : ", SENSOR_SMUL, " / ", SENSOR_SMOL, "\n" );

      ev_stilt_left_state_change;
    };

    if ( changed ( "io_modul_zustand_heckverteiler_2_cs9_stuetze_magnet_unten_rechts_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_2_cs9_stuetze_magnet_oben_rechts_aktiv_in" )
      )
    {
      SENSOR_SMUR = io_modul_zustand_heckverteiler_2_cs9_stuetze_magnet_unten_rechts_aktiv_in;
      SENSOR_SMOR = io_modul_zustand_heckverteiler_2_cs9_stuetze_magnet_oben_rechts_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_SMUR / SENSOR_SMOR : ", SENSOR_SMUR, " / ", SENSOR_SMOR, "\n" );

      ev_stilt_right_state_change;
    };

//                  ANTENNE VERZURRUNG 
// ------------------------------------------------------------------------
    if ( changed ( "io_modul_zustand_heckverteiler_2_cs10_verzurrung_1_offen_aktiv_in" )
      || changed ( "io_modul_zustand_heckverteiler_2_cs10_verzurrung_1_verriegelt_aktiv_in" )
      )
    {
      SENSOR_VZ1O = io_modul_zustand_heckverteiler_2_cs10_verzurrung_1_offen_aktiv_in;
      SENSOR_VZ1V = io_modul_zustand_heckverteiler_2_cs10_verzurrung_1_verriegelt_aktiv_in;

      print ( "-------- RX-BAG  -------- SENSOR_VZ1O / SENSOR_VZ1V : ", SENSOR_VZ1O, " / ", SENSOR_VZ1V, "\n" );

      ev_antenna_lashing_state_change;
    };
 };

// ------------------------------------------------------------------------  
//                  IO MODULE SW Version
// ------------------------------------------------------------------------
  handler_io_modul_software_version
  {
 //   print ( "-------- RX-BAG  -------- handler_io_modul_software_version\n" );

  };

// ------------------------------------------------------------------------  
//                  IO MODULE Fehler
// ------------------------------------------------------------------------
  handler_io_modul_fehler
  {
 //   print ( "-------- RX-BAG  -------- handler_io_modul_fehler\n" );

  };

// ------------------------------------------------------------------------  
//                  IO MODULE Rueckmeldung
// ------------------------------------------------------------------------
  handler_io_modul_rueckmeldung_ios
  {
//    print ( "-------- RX-BAG  -------- handler_io_modul_rueckmeldung_ios\n" );

  };

// ------------------------------------------------------------------------  
//                  FUNKTIONSUEBERWACHUNG
// ------------------------------------------------------------------------
  handler_heartbeat_x_drive
  {
    s_x_drive_heartbeat_payload = s_heartbeat_payload_xdrv_in;
    ev_x_drive_has_heartbeat;
  };

  handler_heartbeat_y_drive
  {
    s_y_drive_heartbeat_payload = s_heartbeat_payload_ydrv_in;
    ev_y_drive_has_heartbeat;
  };

  handler_heartbeat_z_drive
  {
    s_z_drive_heartbeat_payload = s_heartbeat_payload_zdrv_in;
    ev_z_drive_has_heartbeat;
  };

  handler_heartbeat_io_module
  {
    s_io_module_heartbeat_payload = s_heartbeat_payload_iomodule_in;
    ev_io_module_has_heartbeat;
  };

  handler_heartbeat_si_module
  {
    s_si_module_heartbeat_payload = s_heartbeat_payload_simodule_in;
    //print ( "-------- RX-BAG  -------- s_si_module_heartbeat_payload: ", s_si_module_heartbeat_payload, "\n" );
    ev_si_module_has_heartbeat;
  };

  handler_heartbeat_usv_1
  {
    s_usv1_heartbeat_payload = s_heartbeat_payload_usv_1_in;
//    print ( "-------- RX-BAG  -------- s_usv1_heartbeat_payload: ", s_usv1_heartbeat_payload, "\n" );
    ev_usv1_has_heartbeat;
  };

  handler_heartbeat_usv_2
  {
    s_usv2_heartbeat_payload = s_heartbeat_payload_usv_2_in;
//    print ( "-------- RX-BAG  -------- s_usv2_heartbeat_payload: ", s_usv2_heartbeat_payload, "\n" );
    ev_usv2_has_heartbeat;
  };

  handler_heartbeat_extbg
  {
    s_extbg_heartbeat_payload = s_heartbeat_payload_extbg_in;
//    print ( "-------- RX-BAG  -------- s_extbg_heartbeat_payload: ", s_extbg_heartbeat_payload, "\n" );
    ev_extbg_has_heartbeat;
  };
};
